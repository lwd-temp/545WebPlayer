<!DOCTYPE html>
<html lang="zh-cn">

<head>
  <meta charset="utf-8">
  <meta name="description" content="545在线，随时补充塔能量！笙歌牌播放器，支持智能缓存本地播放，由琴梨梨驱动" />
  <link rel="canonical" href="https://545.qinlili.bid/" />
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
  <link rel="manifest" href="./manifest.json">
  <meta name="theme-color" content="#FADCBB">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <link rel="icon" href="./icon.png">
  <title>545在线</title>
</head>

<body style="text-align: center">
  <script>
    document.body.innerHTML = "检查塔宝直播状态...";
    const sleep = delay => new Promise((resolve) => setTimeout(resolve, delay))
    const init = async () => {
      if (!navigator.serviceWorker) {
        document.body.innerHTML = "你的浏览器不支持Service Worker，你应该换个浏览器了";
        return;
      }
      if (navigator.serviceWorker && !navigator.serviceWorker.controller) {
        document.body.innerHTML = "安装Service Worker...安装成功后将自动刷新页面";
        await navigator.serviceWorker.register('./sw.js', { scope: '/' });
        await sleep(3000)
        document.location.reload();
        return;
      }
      if (navigator.userAgent.indexOf("WOW64") > 1) {
        document.body.innerHTML = "你正在64位操作系统上使用32位浏览器!为了更快的访问速度请改用64位浏览器!"
        await sleep(3000)
      }
      document.body.innerHTML = "正在加载播放器...";
      location.href = "player.html";
    }
    init();
  </script>
</body>

</html>