window.ctfile={version:()=>"2.3.0",getByLink:(link,password)=>ctfile.getByID(link.slice(link.lastIndexOf("/")+1),password),getByID:async(fileid,password)=>{const origin=()=>document&&"file://"!=document.location.origin?document.location.origin:"https://ctfile.qinlili.workers.dev",path=id=>{switch(id.split("-").length){case 2:return"file";case 3:default:return"f"}};return jsonText=JSON.parse(await(await fetch("https://webapi.ctfile.com/getfile.php?path="+path(fileid)+"&f="+fileid+"&passcode="+password+"&token=false&r="+Math.random()+"&ref="+origin(),{headers:{origin:origin(),referer:origin()}})).text()),200==jsonText.code?(jsonText2=JSON.parse(await(await fetch("https://webapi.ctfile.com/get_file_url.php?uid="+jsonText.file.userid+"&fid="+jsonText.file.file_id+"&file_chk="+jsonText.file.file_chk+"&app=0&acheck=2&rd="+Math.random(),{headers:{origin:origin(),referer:origin()}})).text()),200==jsonText2.code?{success:!0,name:jsonText.file.file_name,size:jsonText.file.file_size,time:jsonText.file.file_time,link:jsonText2.downurl}:{success:!1,name:jsonText.file.file_name,size:jsonText.file.file_size,time:jsonText.file.file_time,errormsg:jsonText2.message}):{success:!1,errormsg:jsonText.file.message}}};